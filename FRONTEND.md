# じゃんけんゲーム フロントエンド仕様

## 概要
このドキュメントでは、じゃんけんゲーム（Rock, Paper, Scissors, Lizard, Spock）のREST API (`app.py`) を利用する、グラフィカルなWebフロントエンドの仕様を記述します。

## 技術スタック
- **HTML**: ページの構造を定義します。
- **CSS**: ページの見た目をスタイリングします。
- **JavaScript**: ユーザーインタラクション、API通信、DOM操作を担当します。

## 画面構成要素 (UI)

1.  **ヘッダー**:
    *   ゲームのタイトル（例: 「じゃんけんゲーム RPSLS」）を表示します。
2.  **選択肢ボタンエリア**:
    *   API (`/api/choices`) から取得した選択肢（Rock, Paper, Scissors, Lizard, Spock）をボタンとして表示します。
    *   各ボタンには、選択肢の名前と、可能であればアイコンや画像を表示します。
    *   ボタンはクリック可能な見た目にします。
3.  **結果表示エリア**:
    *   **プレイヤーの選択**: プレイヤーが選んだ選択肢の名前とアイコン/画像を表示します。
    *   **コンピューターの選択**: コンピューターが選んだ選択肢の名前とアイコン/画像を表示します。
    *   **勝敗結果**: 「あなたの勝ち」「コンピューターの勝ち」「引き分け」のいずれかの結果を分かりやすく表示します。
    *   初期状態では「選択してください」のようなメッセージを表示します。
4.  **ルール表示エリア (任意)**:
    *   ゲームのルール (`/api/rules` から取得) を表示するセクション、またはモーダルウィンドウ。
5.  **エラー表示エリア**:
    *   API通信エラーや予期せぬ問題が発生した場合に、ユーザーにエラーメッセージを表示します。

## ユーザーインタラクションフロー

1.  **ページ読み込み**:
    *   HTML/CSS/JavaScriptが読み込まれます。
    *   JavaScriptは `/api/choices` エンドポイントにGETリクエストを送信し、選択肢を取得します。
    *   取得した選択肢を元に、選択肢ボタンを動的に生成・表示します。
    *   結果表示エリアを初期状態にします。
2.  **プレイヤーの選択**:
    *   ユーザーがいずれかの選択肢ボタンをクリックします。
    *   クリックされたボタンに対応する選択肢 (`id`) を取得します。
3.  **API通信**:
    *   JavaScriptは `/api/play` エンドポイントにPOSTリクエストを送信します。リクエストボディにはプレイヤーの選択 (`{"choice": "選択肢id"}`) を含めます。
4.  **結果の受信と表示**:
    *   APIからレスポンス (プレイヤーの選択、コンピューターの選択、結果) を受信します。
    *   結果表示エリアの内容を更新し、プレイヤーの選択、コンピューターの選択、勝敗結果を表示します。
    *   選択肢のアイコン/画像も対応して更新します。
5.  **エラーハンドリング**:
    *   APIリクエストが失敗した場合 (ネットワークエラー、サーバーエラーなど)、エラー表示エリアに適切なメッセージを表示します。

## API連携

-   **`/api/choices` (GET)**: ページ読み込み時に呼び出し、選択肢ボタンを生成します。
-   **`/api/play` (POST)**: プレイヤーが選択肢ボタンをクリックした際に呼び出し、ゲームを実行して結果を取得します。
-   **`/api/rules` (GET)**: (任意) ルール表示機能で使用します。

## スタイリング (CSS)

-   シンプルで分かりやすいデザインを目指します。
-   選択肢ボタンは視覚的に区別しやすく、クリック可能であることが分かるようにします。
-   結果表示エリアは、プレイヤー、コンピューター、結果が明確に区別できるようにレイアウトします。
-   勝敗結果に応じて、背景色や文字色を変更するなど、視覚的なフィードバックを与えます (例: 勝ち=緑、負け=赤、引き分け=グレー)。
-   レスポンシブデザインを考慮し、異なる画面サイズでも適切に表示されるようにします (任意)。

## 画像アセット

提供されたゲーム図から、各選択肢のアイコンを切り出して使用します：

-   **Rock (グー)**: 握りこぶしの画像
-   **Paper (パー)**: 開いた手のひらの画像
-   **Scissors (チョキ)**: 人差し指と中指で作るはさみの形の画像
-   **Lizard (リザード)**: 手で作るトカゲの口の形の画像
-   **Spock (スポック)**: 人差し指と中指、薬指と小指を分けた「V」の変形の画像

画像アセットは以下のファイル構成で保存します：
- `assets/images/rock.png`
- `assets/images/paper.png`
- `assets/images/scissors.png`
- `assets/images/lizard.png`
- `assets/images/spock.png`

選択肢のジェスチャーに加え、勝敗関係を示す五角形の図も「ルール表示」セクションで使用します。

## 実装ファイル

-   `index.html`: HTML構造
-   `style.css`: CSSスタイル
-   `script.js`: JavaScriptロジック
-   `assets/images/`: 画像アセットフォルダ

## 今後の拡張可能性

-   選択肢や結果表示にアニメーションを追加する。
-   スコア（連勝数など）を記録・表示する機能。
-   ゲーム履歴を表示する機能。
-   サウンドエフェクトの追加。
-   五角形の図を使ったインタラクティブなルール説明。
